<section class="auth signup-view valign-wrapper" data-ng-controller="AuthenticationController" ng-init="getAgencies()">
	<!-- 	<h3 class="col-md-12 text-center">Sign up using your social accounts</h3>
	<div class="col-md-12 text-center">
		<a href="/auth/facebook" class="undecorated-link">
			<img src="/modules/users/img/buttons/facebook.png">
		</a>
		<a href="/auth/twitter" class="undecorated-link">
			<img src="/modules/users/img/buttons/twitter.png">
		</a>
		<a href="/auth/google" class="undecorated-link">
			<img src="/modules/users/img/buttons/google.png">
		</a>
		<a href="/auth/linkedin" class="undecorated-link">
			<img src="/modules/users/img/buttons/linkedin.png">
		</a>
		<a href="/auth/github" class="undecorated-link">
			<img src="/modules/users/img/buttons/github.png">
		</a>
	</div> -->
	<!--<h3 class="col-md-12 text-center">{{ 'SIGNUP_HEADER_TEXT' | translate }}</h3>-->

	<div class="valign">
		<div class="col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1 authen-wrapper">
			<div class="col-md-12 text-center vcenter" style="padding-bottom: 50px;">
				<img src="/static/modules/core/img/logo-full.svg" height="100px">
			</div>
			<div class="col-xs-12">
				<form ng-if="agencies" name="userForm" data-ng-submit="signup()" class="signin form-horizontal" autocomplete="off">
					<fieldset>
						<div data-ng-show="error" id="signup_errors" class="text-center text-danger">
							{{'SIGNUP_ERROR_TEXT' | translate}}: <br>
							<strong data-ng-bind="error"></strong>
						</div>
						<div class="form-group">
							<label for="agency">{{ 'AGENCY_LABEL' | translate }}</label>
							<ui-select class="form-control"
												 ng-model="credentials.agency"
												 theme="selectize"
												 search-enabled="true"
												 ng-required="true"
												 ng-change="credentials.emailDomain = ''">
								<ui-select-match class="public-form" placeholder="{{ 'TYPE_OR_SELECT_AGENCY' | translate }}">
									{{ $select.selected.fullName }}
								</ui-select-match>
								<ui-select-choices repeat="agency in (agencies | filter: $select.search) track by agency._id">
									<span ng-bind-html="agency.fullName | highlight: $select.search"></span>
								</ui-select-choices>
							</ui-select>
						</div>
						<div class="form-group email">
							<div class="col-md-6 col-xs-6 email-name">
								<label for="email">{{ 'EMAIL_LABEL' | translate }}</label>
								<input type="text" id="email" name="email" class="form-control" ng-model="credentials.emailName" pattern="[A-Za-z0-9-_.]+"
								title="Special characters are not allowed." ng-required="true">
							</div>
							<div class="col-md-6 col-xs-6">
								 <div class="input-group email-domain">
									 <div class="input-group-addon">@</div>
									 <ui-select class="form-control"
									 						ng-model="credentials.emailDomain"
															theme="selectize"
															search-enabled="false"
															ng-required="true"
															ng-disabled="!credentials.agency">
		 								<ui-select-match class="public-form">
		 									{{ $select.selected }}
		 								</ui-select-match>
		 								<ui-select-choices repeat="emailDomain in credentials.agency.emailDomain">
		 									<span ng-bind-html="emailDomain"></span>
		 								</ui-select-choices>
		 							</ui-select>
								 </div>
							 </div>
						</div>
						<div class="form-group">
							<label for="password">{{ 'PASSWORD_LABEL' | translate }}</label>
							<input type="password" id="password" name="password" class="form-control" ng-model="credentials.password" ng-minlength="4" ng-required="true">
						</div>

						<div class="text-center form-group">
							<button type="submit" class="btn btn-signup btn-rounded btn-block" ng-click="preProcessForm()">{{ 'SIGNUP_BTN' | translate }}</button>
						</div>
					</fieldset>
				</form>

				<div class="text-center forgot-password">
					<a ui-sref="signin">{{ 'SIGN_IN_ACCOUNT_LINK' | translate }}</a>
				</div>
			</div>
		</div>
	</div>
</section>
